---
import Layout from '@layouts/Layout.astro';
import { ChevronLeft, AlertTriangle, Info, CheckCircle, Settings, Zap } from '@lucide/astro';
import DiamondPattern from "@c/ui/DiamondPattern.astro";
import GoldenLine from "@c/ui/GoldenLine.astro";
import CornerOrnaments from "@c/ui/CornerOrnaments.astro";
import { AttackBotSpellsRunas } from '@assets/guides';
---

<Layout
  title="Configuración de Ataque (Spells y Runas) - Guías del Bot"
  description="Aprende a configurar el AttackBot para usar spells y runas automáticamente. Tutorial completo con ejemplos para Knights, Paladins, Sorcerers y Druids."
  keywords="attackbot mystovia, configurar spells bot, runas bot tibia, tutorial attackbot, exori ico bot"
>
  <section class="page-container max-w-4xl mx-auto">
    <!-- Back Button -->
    <a href="/guides" class="inline-flex items-center gap-2 text-gray-400 hover:text-yellow-500 transition-colors mb-6">
      <ChevronLeft class="w-4 h-4" />
      <span>Volver a guías</span>
    </a>

    <!-- Header -->
    <div class="relative rounded-xl overflow-hidden p-6 md:p-8 mb-8 border border-yellow-600/30"
         style="background: linear-gradient(to bottom, rgb(17 24 39 / 0.95), rgb(0 0 0 / 0.9));">
      <DiamondPattern opacity={0.03} />
      <GoldenLine position="top" opacity={0.5} />
      <CornerOrnaments variant="curve" size="md" opacity={0.3} />

      <div class="relative z-10">
        <div class="flex items-center gap-2 mb-3">
          <span class="text-xs bg-yellow-500/20 text-yellow-500 px-2 py-1 rounded border border-yellow-500/30">
            AttackBot
          </span>
        </div>
        <h1 class="text-2xl md:text-3xl lg:text-4xl font-bold text-yellow-500 medieval-font mb-3">
          Configuración de Ataque (Spells y Runas)
        </h1>
        <p class="text-gray-400">
          Guía completa para configurar el AttackBot y automatizar el uso de spells y runas contra criaturas.
        </p>
      </div>
    </div>

    <!-- Guide Image -->
    <div class="mb-8 rounded-xl overflow-hidden border border-gray-700">
      <img src={AttackBotSpellsRunas.src} alt="Configuración de AttackBot - Spells y Runas" class="w-full h-auto" />
    </div>

    <!-- Content -->
    <div class="space-y-8">
      <!-- Section 1 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">1</span>
          Acceso a la configuración
        </h2>
        <div class="guide-content">
          <ul class="guide-list">
            <li>Ir a la pestaña <strong class="text-yellow-500">Main</strong>.</li>
            <li>En la sección <strong class="text-yellow-500">AttackBot</strong>, hacer clic en <strong class="text-yellow-500">Setup</strong>.</li>
          </ul>
        </div>
      </article>

      <!-- Section 2 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">2</span>
          Selección del tipo de magia
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">En el primer cuadro, seleccionar el tipo de ataque.</p>
          <p class="text-gray-400">Ejemplo: <strong class="text-yellow-500">Targeted Spell</strong> (para hechizos como exori hur, exori flam, etc.).</p>
        </div>
      </article>

      <!-- Section 3 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">3</span>
          Rango del hechizo (SQM Range)
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">En <strong class="text-yellow-500">SQM Range</strong>, seleccionar el alcance del spell que vamos a usar.</p>
          <p class="text-gray-400">Para <code class="code-inline">exori ico</code>, corresponde <strong class="text-yellow-500">1 sqm range</strong>.</p>
        </div>
      </article>

      <!-- Section 4 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">4</span>
          Monster Names
        </h2>
        <div class="guide-content">
          <div class="alert-box alert-warning">
            <AlertTriangle class="w-5 h-5 shrink-0" />
            <div>
              <strong>ATENCIÓN:</strong><br />
              Si queremos que el bot use el spell contra todas las criaturas que atacamos, debemos dejar este campo por defecto como <strong class="text-yellow-500">MONSTER NAMES</strong>.
            </div>
          </div>
        </div>
      </article>

      <!-- Section 5 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">5</span>
          Nombre del spell
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">En el campo <strong class="text-yellow-500">Spell Name</strong>, escribir exactamente el nombre del hechizo:</p>
          <div class="code-block">exori ico</div>
        </div>
      </article>

      <!-- Section 6 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">6</span>
          Configuración de condiciones
        </h2>
        <div class="guide-content">
          <ul class="guide-list">
            <li><strong class="text-yellow-500">Mana %:</strong> dejar en 1 (valor por defecto).</li>
          </ul>

          <div class="mt-4 p-4 rounded-lg border border-gray-700 bg-gray-800/50">
            <h4 class="text-white font-semibold mb-3">Creatures:</h4>
            <ul class="guide-list">
              <li>Si <strong class="text-red-400">NO</strong> tildamos el recuadro, el bot lanzará el spell solo cuando haya exactamente el número de criaturas indicado.</li>
              <li>Si <strong class="text-green-400">tildamos</strong> el recuadro, el bot atacará cuando haya esa cantidad o más criaturas en pantalla.</li>
            </ul>
            <div class="mt-3 p-3 rounded bg-gray-900/50 border border-gray-600">
              <strong class="text-gray-300">Ejemplo:</strong>
              <p class="text-gray-400 mt-1">Creatures = 1 + tildado → atacará con 1 o más criaturas.</p>
            </div>
          </div>

          <p class="text-gray-400 mt-4"><strong class="text-yellow-500">HP (0 – 100):</strong> dejar por defecto.</p>
        </div>
      </article>

      <!-- Section 7 - IMPORTANTE -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">7</span>
          Cooldown (CD)
        </h2>
        <div class="guide-content">
          <div class="alert-box alert-danger">
            <Zap class="w-5 h-5 shrink-0" />
            <div>
              <strong>MUY IMPORTANTE.</strong><br />
              En el campo <strong class="text-yellow-500">CD</strong>, se deben ingresar los segundos reales de cooldown del spell.<br /><br />
              Los cooldowns <strong class="text-red-400">NO son los mismos que en Tibia Oficial</strong>.<br /><br />
              Los valores correctos se encuentran en la sección <a href="/guides/spells-cooldowns" class="text-yellow-500 underline hover:text-yellow-400">Cooldowns</a>, donde están detallados los CD exactos de cada spell.
            </div>
          </div>
        </div>
      </article>

      <!-- Section 8 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">8</span>
          Prioridad de spells (Move Up / Move Down)
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">Los botones <strong class="text-yellow-500">Move Up</strong> y <strong class="text-yellow-500">Move Down</strong> sirven para ordenar las spells y definir su prioridad.</p>
          <p class="text-gray-400 mb-4">El bot ejecuta las spells de arriba hacia abajo, respetando el orden configurado.</p>

          <div class="alert-box alert-info">
            <Info class="w-5 h-5 shrink-0" />
            <div>
              <strong>Recomendación:</strong><br />
              Colocar las spells con mayor cooldown más arriba en la lista, para que se ejecuten apenas estén disponibles.
            </div>
          </div>

          <div class="mt-6 p-4 rounded-lg border border-yellow-600/30 bg-yellow-500/5">
            <h4 class="text-yellow-500 font-semibold mb-3">Ejemplo de rotación para Knights:</h4>
            <ol class="list-decimal list-inside text-gray-300 space-y-1">
              <li><code class="code-inline">utito tempo</code></li>
              <li><code class="code-inline">exori mas</code></li>
              <li><code class="code-inline">exori gran</code></li>
              <li><code class="code-inline">exori</code></li>
            </ol>
          </div>
        </div>
      </article>

      <!-- Section 9 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">9</span>
          Uso de runas (IDs de ítems)
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">En caso de querer que el bot ataque utilizando runas, es necesario conocer el <strong class="text-yellow-500">ID del ítem</strong>.</p>

          <div class="p-4 rounded-lg border border-gray-700 bg-gray-800/50 mb-4">
            <h4 class="text-white font-semibold mb-3">Para obtener el ID de una runa:</h4>
            <ol class="list-decimal list-inside text-gray-300 space-y-2">
              <li>Mantener presionada la tecla <strong class="text-yellow-500">Ctrl</strong>.</li>
              <li>Hacer <strong class="text-yellow-500">clic derecho</strong> sobre el ítem deseado.</li>
            </ol>
            <p class="text-gray-400 mt-3">El ID mostrado es el que debe configurarse en el AttackBot para el uso de runas.</p>
          </div>
        </div>
      </article>

      <!-- Section 10 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">10</span>
          Botón Settings
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">Dentro de <strong class="text-yellow-500">Settings</strong>, se recomienda dejar siempre tildado:</p>

          <ul class="space-y-2 mb-4">
            <li class="flex items-center gap-2 text-green-400">
              <CheckCircle class="w-4 h-4" />
              <span>Check spell cooldowns</span>
            </li>
          </ul>

          <div class="alert-box alert-warning mb-4">
            <AlertTriangle class="w-5 h-5 shrink-0" />
            <div>
              <strong>Destildar la opción "Items must be visible"</strong><br /><br />
              Aunque esta opción sea recomendada, si el jugador no tiene la backpack abierta o las runas no están visibles en pantalla, el bot no usará runas si esta opción está activada.
            </div>
          </div>

          <p class="text-gray-400 mb-4">El resto de las opciones queda a gusto del usuario.</p>

          <div class="alert-box alert-danger">
            <AlertTriangle class="w-5 h-5 shrink-0" />
            <div>
              <strong>ATENCIÓN:</strong><br />
              Si está activada la opción <strong class="text-yellow-500">PvP Safe</strong>, puede ocurrir que el bot no ataque, dependiendo de la situación.
            </div>
          </div>
        </div>
      </article>

      <!-- Section 11 -->
      <article class="guide-section">
        <h2 class="guide-title">
          <span class="guide-number">11</span>
          Activar el AttackBot
        </h2>
        <div class="guide-content">
          <p class="text-gray-300 mb-4">Una vez configurado todo:</p>

          <ol class="list-decimal list-inside text-gray-300 space-y-2 mb-4">
            <li>Hacer clic en <strong class="text-yellow-500">Close</strong>.</li>
            <li>Activar el bot presionando el botón <strong class="text-yellow-500">AttackBot</strong>, ubicado al lado de Setup.</li>
          </ol>

          <div class="p-4 rounded-lg border border-gray-700 bg-gray-800/50">
            <h4 class="text-white font-semibold mb-3">Estado del botón:</h4>
            <ul class="space-y-2">
              <li class="flex items-center gap-3">
                <span class="w-4 h-4 rounded-full bg-red-500"></span>
                <span class="text-gray-300">Rojo → Bot desactivado</span>
              </li>
              <li class="flex items-center gap-3">
                <span class="w-4 h-4 rounded-full bg-green-500"></span>
                <span class="text-gray-300">Verde → Bot activado</span>
              </li>
            </ul>
          </div>
        </div>
      </article>
    </div>

    <!-- Back to guides -->
    <div class="mt-12 pt-8 border-t border-gray-800">
      <a href="/guides" class="inline-flex items-center gap-2 text-yellow-500 hover:text-yellow-400 transition-colors">
        <ChevronLeft class="w-4 h-4" />
        <span>Volver a todas las guías</span>
      </a>
    </div>
  </section>
</Layout>

<style>
  .guide-section {
    position: relative;
    border-radius: 0.75rem;
    overflow: hidden;
    border: 1px solid rgb(31 41 55);
    padding: 1.5rem;
    background: linear-gradient(to bottom, rgb(31 41 55 / 0.3), rgb(17 24 39 / 0.5));
  }

  .guide-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-family: 'Cinzel', serif;
  }

  @media (min-width: 768px) {
    .guide-title {
      font-size: 1.5rem;
    }
  }

  .guide-number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 2rem;
    height: 2rem;
    border-radius: 9999px;
    background-color: rgb(234 179 8 / 0.2);
    color: rgb(234 179 8);
    font-size: 0.875rem;
    font-weight: 700;
    border: 1px solid rgb(234 179 8 / 0.3);
  }

  .guide-content {
    padding-left: 2.75rem;
  }

  .guide-list {
    list-style-type: disc;
    list-style-position: inside;
    color: rgb(209 213 219);
  }

  .guide-list li {
    color: rgb(209 213 219);
    margin-bottom: 0.5rem;
  }

  .code-block {
    background-color: rgb(17 24 39);
    border: 1px solid rgb(55 65 81);
    border-radius: 0.5rem;
    padding: 0.75rem 1rem;
    font-family: monospace;
    color: rgb(234 179 8);
  }

  .code-inline {
    background-color: rgb(31 41 55);
    padding: 0.125rem 0.5rem;
    border-radius: 0.25rem;
    color: rgb(250 204 21);
    font-family: monospace;
    font-size: 0.875rem;
  }

  .alert-box {
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    padding: 1rem;
    border-radius: 0.5rem;
    border-width: 1px;
  }

  .alert-warning {
    border-color: rgb(202 138 4 / 0.3);
    background-color: rgb(234 179 8 / 0.1);
    color: rgb(254 249 195);
  }

  .alert-danger {
    border-color: rgb(220 38 38 / 0.3);
    background-color: rgb(239 68 68 / 0.1);
    color: rgb(254 202 202);
  }

  .alert-info {
    border-color: rgb(37 99 235 / 0.3);
    background-color: rgb(59 130 246 / 0.1);
    color: rgb(191 219 254);
  }
</style>
